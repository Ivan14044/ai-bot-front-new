import{d as j,u as V,b as q,r,a as B,c as L,e as n,o as l,f as e,g as c,w as v,h as g,l as N,t as s,i as R,j as p,k as w,v as x,n as y,_ as T}from"./index-D06XNq7w.js";import{L as A}from"./LanguageSelect-CcDavfiV.js";const D={class:"min-h-screen py-3 w-full bg-[#fafafa] dark:bg-gray-900 flex items-center justify-center"},F={class:"max-w-sm w-full lg:w-1/2 flex items-center justify-center p-8 bg-white dark:!bg-gray-800 rounded-[12px] shadow-lg relative"},M={class:"w-full"},U={class:"flex items-center justify-end absolute top-3 right-3"},E={class:"flex items-center justify-center mb-6 -mt-2 w-full"},I=["src"],z={class:"text-2xl text-gray-900 dark:text-white mb-2 text-center font-medium"},G={class:"text-gray-500 dark:text-gray-300 mb-6 text-center"},H={class:"space-y-2"},J={class:"relative"},K=["placeholder"],O={key:0,class:"text-red-500 text-sm"},Q={class:"space-y-2"},W={class:"relative"},X=["placeholder"],Y={key:0,class:"text-red-500 text-sm"},Z={key:1,class:"text-red-500 text-sm"},ee={class:"flex items-center justify-between gap-3"},te={type:"submit",class:"auth-button primary"},se={key:1,class:"text-center"},ae={class:"text-center text-sm text-green-600 bg-green-100 border border-green-300 p-4 rounded my-5"},oe={class:"text-center text-sm text-gray-500 mt-3"},re=j({__name:"ResetPasswordPage",props:{token:{type:String,required:!0}},setup(b){const k=b,S=V(),m=q(),d=r(""),u=r(""),a=r({}),_=r(!1),h=r(!1),$=B(),P=r($.query.email||""),C=async()=>{h.value=!0,a.value={};const t=await m.resetPassword({email:P.value,password:d.value,password_confirmation:u.value,token:k.token});a.value=m.errors,t&&(_.value=!0),h.value=!1};return(t,o)=>{const f=L("router-link");return l(),n("div",D,[e("div",F,[e("div",M,[e("div",U,[c(A)]),e("div",E,[c(f,{to:"/",class:"flex items-center flex-col"},{default:v(()=>[e("img",{src:g(N),alt:"Loading...",class:"w-16 h-16 object-contain spin-slow-reverse mb-2"},null,8,I),o[3]||(o[3]=e("span",{class:"text-black dark:!text-white mt-1 text-sm font-semibold leading-none"}," SubCloudy ",-1))]),_:1,__:[3]})]),e("h1",z,s(t.$t("auth.resetPasswordTitle")),1),e("p",G,s(t.$t("auth.resetPasswordSubtitle")),1),_.value?(l(),n("div",se,[e("p",ae,s(t.$t("auth.resetPasswordSuccess")),1),e("button",{class:"auth-button primary",onClick:o[2]||(o[2]=i=>g(S).push("/login"))},s(t.$t("auth.loginButton")),1)])):(l(),n("form",{key:0,class:"space-y-4",onSubmit:R(C,["prevent"])},[e("div",H,[e("div",J,[w(e("input",{id:"password","onUpdate:modelValue":o[0]||(o[0]=i=>d.value=i),type:"password",class:"input-field dark:!border-gray-500 dark:text-gray-300",placeholder:t.$t("auth.password"),required:""},null,8,K),[[x,d.value]])]),a.value.password?(l(),n("p",O,s(a.value.password[0]),1)):p("",!0)]),e("div",Q,[e("div",W,[w(e("input",{id:"password_confirmation","onUpdate:modelValue":o[1]||(o[1]=i=>u.value=i),type:"password",class:"input-field dark:!border-gray-500 dark:text-gray-300",placeholder:t.$t("auth.passwordConfirmation"),required:""},null,8,X),[[x,u.value]])]),a.value.password_confirmation?(l(),n("p",Y,s(a.value.password_confirmation[0]),1)):p("",!0),a.value.message?(l(),n("p",Z,s(a.value.message[0]),1)):p("",!0)]),e("div",ee,[e("button",te,s(t.$t("auth.resetPasswordSubmit")),1)])],32)),e("p",oe,[y(s(t.$t("auth.haveAccount"))+" ",1),c(f,{to:"/login",class:"text-[#0065FF] dark:text-blue-600 hover:!text-blue-500"},{default:v(()=>[y(s(t.$t("auth.loginLink")),1)]),_:1})])])])])}}}),ie=T(re,[["__scopeId","data-v-7d69611c"]]);export{ie as default};
