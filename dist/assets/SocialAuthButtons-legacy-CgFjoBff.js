System.register(["./index-legacy-DrOZILrB.js"],function(e,t){"use strict";var r,a,o,n,s,i,l,c,d;return{setters:[e=>{r=e.d,a=e.b,o=e.u,n=e.a,s=e.e,i=e.o,l=e.f,c=e.t,d=e._}],execute:function(){var t=document.createElement("style");t.textContent=".separator[data-v-dde0338f]{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding-left:1rem;padding-right:1rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.separator[data-v-dde0338f]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}\n/*$vite$:1*/",document.head.appendChild(t);const g={class:"flex flex-col space-y-4 mt-6"},u={class:"relative"},p={class:"relative flex justify-center text-sm"},m={class:"separator"},w={class:"flex flex-col gap-3"},y={class:"text-white"};e("S",d(r({__name:"SocialAuthButtons",setup(e){const t=a(),r=o(),d=n(),h=()=>{const e="\n    toolbar=no,\n    location=no,\n    status=no,\n    menubar=no,\n    scrollbars=yes,\n    resizable=yes,\n    width=800,\n    height=600\n  ",a=window.open("/auth/google/reauth","googleAuth",e.replace(/\s+/g,"")),o=async e=>{if(e.origin===window.location.origin)if("GOOGLE_AUTH_SUCCESS"===e.data.type){const{token:a,user:n}=e.data.data;t.setToken(a),t.setUser(n),window.removeEventListener("message",o);const s=d.query.redirect;r.push(s||"/")}else"GOOGLE_AUTH_ERROR"===e.data.type&&(console.error("Google auth error:",e.data.data.error),window.removeEventListener("message",o))};window.addEventListener("message",o);const n=setInterval(()=>{null!=a&&a.closed&&(window.removeEventListener("message",o),clearInterval(n))},1e3)},b=()=>{window.Telegram?f():v()},v=()=>{if(document.getElementById("telegram-login-script"))return;const e=document.createElement("script");e.id="telegram-login-script",e.src="https://telegram.org/js/telegram-widget.js",e.async=!0,e.onload=f,document.head.appendChild(e)},f=()=>{window.Telegram&&window.Telegram.Login&&window.Telegram.Login.auth({bot_id:""},e=>{e&&x(e)})},x=async e=>{try{const a=await fetch("/auth/telegram/callback",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),o=await a.json();if(o.token){t.setToken(o.token),t.setUser(o.user);const e=d.query.redirect;r.push(e||"/")}}catch(a){console.error("Telegram auth error:",a)}};return(e,t)=>(i(),s("div",g,[l("div",u,[t[0]||(t[0]=l("div",{class:"absolute inset-0 flex items-center"},[l("div",{class:"w-full border-t border-gray-200"})],-1)),l("div",p,[l("span",m,c(e.$t("auth.orContinueWith")),1)])]),l("div",w,[l("a",{class:"flex items-center dark:text-white dark:hover:bg-gray-300 dark:hover:text-gray-800 justify-center border border-gray-300 rounded-lg px-4 py-3 hover:bg-gray-50 transition-colors cursor-pointer",onClick:h},[t[1]||(t[1]=l("img",{class:"w-5 h-5 mr-2",src:"/ai-bot-front-new/img/google.png",alt:"google"},null,-1)),l("span",null,c(e.$t("auth.google")),1)]),l("button",{class:"flex items-center justify-center border-[#1a94d2] rounded-lg px-4 py-3 bg-[#1a94d2] hover:bg-[#1a94d2]/80 transition-colors",onClick:b},[t[2]||(t[2]=l("img",{class:"w-5 h-5 mr-2",src:"/ai-bot-front-new/img/telegram.png",alt:"telegram"},null,-1)),l("span",y,c(e.$t("auth.telegram")),1)])])]))}}),[["__scopeId","data-v-dde0338f"]]))}}});
