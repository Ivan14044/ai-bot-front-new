import{d as w,a as k,u as y,q as N,p as B,s as p,c as D,e as i,o as n,f as o,j as h,g as v,t as c,F as C,y as I,z as A,w as L,n as S,_ as $}from"./index-D06XNq7w.js";import{u as j,_ as F}from"./ImageWithFallback.vue_vue_type_script_setup_true_lang-UjbA_g2q.js";import{_ as M}from"./BackLink.vue_vue_type_script_setup_true_lang-DhsFgQHw.js";const T={class:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8 text-gray-900 dark:text-white relative"},H={class:"max-w-3xl mx-auto"},R={class:"flex items-start justify-between mt-6 mb-10"},V=["title"],q={key:0,class:"overflow-hidden rounded-2xl bg-white/80 dark:bg-white/[0.03] backdrop-blur-xl border border-black/10 dark:border-white/[0.08] shadow-lg"},z={class:"relative aspect-video overflow-hidden bg-gray-100 dark:bg-white/[0.04]"},E={class:"p-6"},O={class:"text-3xl md:text-4xl font-semibold mb-5"},G={class:"mb-5 flex flex-wrap gap-1"},J={class:"prose prose-neutral dark:prose-invert max-w-none relative"},K=["innerHTML"],P={class:"text-xs text-gray-500 dark:text-gray-300 my-4 float-end"},Q=w({__name:"ArticleDetails",setup(U){const f=k(),u=y(),d=Number(f.params.id),m=j(),{locale:_}=N();B(async()=>{if(!Number.isFinite(d))return u.replace("/404");try{await m.fetchArticleById(d)}catch(e){if((e==null?void 0:e.message)==="404")return u.replace("/404")}});const s=p(()=>{var r,a;const e=m.articleById[d];if(!e)return null;const t=e.translations.find(l=>l.locale===_.value);return{...e,title:(r=t==null?void 0:t.title)!=null?r:"No title",content:(a=t==null?void 0:t.content)!=null?a:"",categories:e.categories}}),b=p(()=>{var e,t;return(t=(e=s.value)==null?void 0:e.img)!=null?t:"/img/no-logo.png"});function x(e){var a,l;const t=_.value,r=(l=(a=e.translations)==null?void 0:a[t])==null?void 0:l.name;return r!=null?r:e.name}function g(e){try{return(e instanceof Date?e:new Date(e)).toLocaleString()}catch(t){return""}}return(e,t)=>{const r=D("router-link");return n(),i("div",T,[o("div",H,[o("div",R,[s.value?(n(),i("h1",{key:0,class:"text-2xl font-medium md:text-4xl md:font-light text-dark dark:text-white min-w-0 truncate",title:s.value.title},c(s.value.title),9,V)):h("",!0),v(M,{class:"self-start"})]),s.value?(n(),i("div",q,[o("div",z,[v(F,{src:b.value,alt:s.value.title,class:"w-full h-full object-contain"},null,8,["src","alt"])]),o("div",E,[o("h1",O,c(s.value.title),1),o("div",G,[(n(!0),i(C,null,I(s.value.categories,a=>(n(),A(r,{key:a.id,to:"/categories/".concat(a.id),class:"inline-flex items-center px-2 py-1 text-xs rounded border shadow-sm backdrop-blur-sm bg-black/50 text-white hover:bg-black/60 dark:bg-white/10 dark:hover:bg-white/20 cursor-pointer transition-colors","aria-label":"Open category ".concat(x(a))},{default:L(()=>[S(c(x(a)),1)]),_:2},1032,["to","aria-label"]))),128))]),o("div",J,[o("div",{class:"content",innerHTML:s.value.content},null,8,K),o("div",P,c(g(s.value.date)),1)])])])):h("",!0)])])}}}),Z=$(Q,[["__scopeId","data-v-69d38045"]]);export{Z as default};
